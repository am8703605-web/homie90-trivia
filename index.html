<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Trivia Quiz</title>
  <style>
    :root{--bg:#f4f6f8;--card:#ffffff;--accent:#007BFF;--muted:#6b7280}
    html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
    body{display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#eef2f6,white 60%);padding:20px}
    .card{width:100%;max-width:520px;background:var(--card);border-radius:14px;box-shadow:0 6px 24px rgba(16,24,40,0.08);padding:22px}
    h1{margin:0;font-size:20px;color:#0f172a}
    .meta{margin-top:6px;color:var(--muted);font-size:13px}
    .question{margin-top:18px;font-size:18px;color:#0f172a}
    .options{margin-top:12px;display:flex;flex-direction:column;gap:10px}
    .option{padding:12px 14px;border-radius:10px;background:#f1f5f9;border:1px solid rgba(2,6,23,0.04);cursor:pointer;user-select:none}
    .option:hover{transform:translateY(-2px)}
    .correct{background:#d1fae5;border-color:#10b981}
    .wrong{background:#fee2e2;border-color:#f43f5e}
    .controls{display:flex;justify-content:space-between;align-items:center;margin-top:18px}
    #next{background:var(--accent);color:#fff;border:none;padding:10px 14px;border-radius:10px;cursor:pointer;display:none}
    #score{color:var(--muted);font-size:14px}
    .footer{margin-top:14px;color:var(--muted);font-size:13px;text-align:center}
    @media (max-width:420px){.card{padding:16px}}
  </style>
</head>
<body>
  <div class="card" role="application" aria-label="Trivia Quiz">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div>
        <h1>Trivia Quiz</h1>
        <div class="meta">Quick quiz â€” test your knowledge</div>
      </div>
      <div id="score">0 / 0</div>
    </div>

    <div id="quiz-area" aria-live="polite">
      <div id="question-block">
        <!-- question injected here -->
      </div>

      <div class="controls">
        <div id="hint" style="color:var(--muted);font-size:13px"></div>
        <button id="next" aria-hidden="true" onclick="nextQuestion()">Next</button>
      </div>
    </div>

    <div class="footer">Built for Telegram Bot Mini App â€” tap answers to play</div>
  </div>

<script>
const questions = [
  { q: "What is the capital of France?", options: ["Paris","London","Berlin","Rome"], answer: 0 },
  { q: "Which planet is known as the Red Planet?", options: ["Earth","Mars","Jupiter","Venus"], answer: 1 },
  { q: "Who developed the theory of relativity?", options: ["Newton","Einstein","Tesla","Darwin"], answer: 1 },
  { q: "Which language runs in a web browser?", options: ["Python","C++","JavaScript","Java"], answer: 2 },
  { q: "What is 7 Ã— 8?", options: ["54","56","58","48"], answer: 1 },
  { q: "Which ocean is the largest on Earth?", options: ["Atlantic","Indian","Pacific","Arctic"], answer: 2 },
  { q: "HTML stands for?", options: ["Hyperlinks and Text Markup Language","Home Tool Markup Language","Hyper Text Markup Language","Hyperlinking Text Marking Language"], answer: 2 }
];

let currentIndex = 0;
let score = 0;
let totalAsked = 0;

// Shuffle questions for variability
function shuffle(arr){
  for(let i=arr.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [arr[i],arr[j]]=[arr[j],arr[i]];
  }
}
shuffle(questions);

function renderScore(){
  document.getElementById('score').textContent = score + ' / ' + totalAsked;
}

function loadQuestion(){
  const q = questions[currentIndex];
  totalAsked = Math.max(totalAsked, currentIndex+1);
  renderScore();
  const qb = document.getElementById('question-block');
  qb.innerHTML = `
    <div class="question">${escapeHtml(q.q)}</div>
    <div class="options">
      ${q.options.map((opt, i) => `<button class="option" onclick="checkAnswer(${i}, this)">${escapeHtml(opt)}</button>`).join('')}
    </div>
  `;
  document.getElementById('next').style.display = 'none';
  document.getElementById('next').setAttribute('aria-hidden','true');
  document.getElementById('hint').textContent = 'Tap an answer to respond';
}

function checkAnswer(selected, el){
  const q = questions[currentIndex];
  const opts = document.querySelectorAll('.option');
  opts.forEach((btn, i) => {
    btn.disabled = true;
    if(i === q.answer) btn.classList.add('correct');
  });
  if(selected === q.answer){
    el.classList.add('correct');
    score++;
  } else {
    el.classList.add('wrong');
  }
  renderScore();
  document.getElementById('next').style.display = 'inline-block';
  document.getElementById('next').setAttribute('aria-hidden','false');
  // show correct answer in hint
  document.getElementById('hint').textContent = 'Correct: ' + q.options[q.answer];
}

function nextQuestion(){
  currentIndex++;
  if(currentIndex >= questions.length){
    showResults();
  } else {
    loadQuestion();
  }
}

function showResults(){
  const qb = document.getElementById('question-block');
  qb.innerHTML = `
    <div style="text-align:center;padding:18px">
      <h2>ðŸŽ‰ Quiz Complete</h2>
      <p style="color:var(--muted);margin:6px 0">You scored ${score} out of ${questions.length}.</p>
      <button id="restart" class="option" style="display:inline-block;margin-top:8px" onclick="restart()">Play Again</button>
    </div>
  `;
  document.getElementById('next').style.display = 'none';
  document.getElementById('hint').textContent = '';
}

function restart(){
  currentIndex = 0;
  score = 0;
  shuffle(questions);
  loadQuestion();
}

function escapeHtml(text){
  return text.replace(/[&<>"']/g, function(m){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"}[m]; });
}

// Start
loadQuestion();
</script>
</body>
</html>
